Directory structure:
‚îî‚îÄ‚îÄ frontend/
    ‚îú‚îÄ‚îÄ README.md
    ‚îú‚îÄ‚îÄ index.html
    ‚îú‚îÄ‚îÄ package.json
    ‚îú‚îÄ‚îÄ postcss.config.js
    ‚îú‚îÄ‚îÄ tailwind.config.js
    ‚îú‚îÄ‚îÄ tsconfig.json
    ‚îú‚îÄ‚îÄ vite.config.ts
    ‚îî‚îÄ‚îÄ src/
        ‚îú‚îÄ‚îÄ App.tsx
        ‚îú‚îÄ‚îÄ main.tsx
        ‚îú‚îÄ‚îÄ vite-env.d.ts
        ‚îú‚îÄ‚îÄ components/
        ‚îÇ   ‚îú‚îÄ‚îÄ DashboardCard.tsx
        ‚îÇ   ‚îú‚îÄ‚îÄ Header.tsx
        ‚îÇ   ‚îú‚îÄ‚îÄ MapView.tsx
        ‚îÇ   ‚îú‚îÄ‚îÄ PromptBar.tsx
        ‚îÇ   ‚îî‚îÄ‚îÄ Sidebar.tsx
        ‚îú‚îÄ‚îÄ pages/
        ‚îÇ   ‚îî‚îÄ‚îÄ LandingPage.tsx
        ‚îú‚îÄ‚îÄ styles/
        ‚îÇ   ‚îî‚îÄ‚îÄ index.css
        ‚îî‚îÄ‚îÄ utils/
            ‚îî‚îÄ‚îÄ api.ts

================================================
FILE: README.md
================================================
# Frontend ‚Äî Orbital Nexus

React 19 + TypeScript + TailwindCSS + Leaflet SPA for multi-satellite data visualization.

## Setup

```bash
npm install
npm run dev
```

Opens at [http://localhost:5173](http://localhost:5173).

## Layout

- **Header**: Branding + offline status indicator
- **Sidebar**: Generative dashboard cards (driven by backend UI instructions)
- **Map**: Leaflet map centered on Greater Noida
- **Prompt Bar**: Natural language input (ChatGPT-style)

## Key Files

- `src/App.tsx` ‚Äî Main layout and state management
- `src/components/MapView.tsx` ‚Äî Leaflet map component
- `src/components/Sidebar.tsx` ‚Äî Dashboard card panel
- `src/components/PromptBar.tsx` ‚Äî Query input
- `src/utils/api.ts` ‚Äî Backend API client



================================================
FILE: index.html
================================================
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="/vite.svg" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Orbital Nexus ‚Äî Multi-Satellite Data Fusion</title>
    <link
      rel="stylesheet"
      href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
      integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY="
      crossorigin=""
    />
  </head>
  <body class="bg-nexus-dark text-white">
    <div id="root"></div>
    <script type="module" src="/src/main.tsx"></script>
  </body>
</html>



================================================
FILE: package.json
================================================
{
  "name": "orbital-nexus-frontend",
  "private": true,
  "version": "0.1.0",
  "type": "module",
  "scripts": {
    "dev": "vite",
    "build": "tsc -b && vite build",
    "preview": "vite preview"
  },
  "dependencies": {
    "axios": "^1.7.9",
    "framer-motion": "^11.15.0",
    "leaflet": "^1.9.4",
    "lucide-react": "^0.563.0",
    "react": "^19.0.0",
    "react-dom": "^19.0.0",
    "react-leaflet": "^5.0.0"
  },
  "devDependencies": {
    "@types/leaflet": "^1.9.14",
    "@types/react": "^19.0.0",
    "@types/react-dom": "^19.0.0",
    "@vitejs/plugin-react": "^4.3.4",
    "autoprefixer": "^10.4.20",
    "postcss": "^8.4.49",
    "tailwindcss": "^3.4.17",
    "typescript": "^5.7.3",
    "vite": "^6.0.0"
  }
}



================================================
FILE: postcss.config.js
================================================
export default {
  plugins: {
    tailwindcss: {},
    autoprefixer: {},
  },
};



================================================
FILE: tailwind.config.js
================================================
/** @type {import('tailwindcss').Config} */
export default {
  content: ["./index.html", "./src/**/*.{js,ts,jsx,tsx}"],
  theme: {
    extend: {
      colors: {
        nexus: {
          dark: "#0a0e1a",
          panel: "#111827",
          accent: "#3b82f6",
          glow: "#60a5fa",
        },
      },
      fontFamily: {
        sans: ["Inter", "system-ui", "sans-serif"],
      },
    },
  },
  plugins: [],
};



================================================
FILE: tsconfig.json
================================================
{
  "compilerOptions": {
    "target": "ES2022",
    "lib": ["ES2023", "DOM", "DOM.Iterable"],
    "module": "ESNext",
    "skipLibCheck": true,
    "moduleResolution": "bundler",
    "allowImportingTsExtensions": true,
    "isolatedModules": true,
    "moduleDetection": "force",
    "noEmit": true,
    "jsx": "react-jsx",
    "strict": true,
    "noUnusedLocals": true,
    "noUnusedParameters": true,
    "noFallthroughCasesInSwitch": true,
    "noUncheckedSideEffectImports": true,
    "baseUrl": ".",
    "paths": {
      "@/*": ["src/*"]
    }
  },
  "include": ["src"]
}



================================================
FILE: vite.config.ts
================================================
import { defineConfig } from "vite";
import react from "@vitejs/plugin-react";
import path from "path";

export default defineConfig({
  plugins: [react()],
  resolve: {
    alias: {
      "@": path.resolve(__dirname, "./src"),
    },
  },
  server: {
    port: 5173,
    proxy: {
      "/api": {
        target: "http://localhost:8000",
        changeOrigin: true,
      },
    },
  },
});



================================================
FILE: src/App.tsx
================================================
import { useState } from "react";
import Header from "./components/Header";
import Sidebar from "./components/Sidebar";
import MapView from "./components/MapView";
import PromptBar from "./components/PromptBar";
import LandingPage from "./pages/LandingPage";
import { queryBackend, type QueryResponse } from "./utils/api";

/**
 * Orbital Nexus ‚Äî Root Application
 *
 * State-based navigation:
 *   "landing"   ‚Üí Marketing / Landing page
 *   "dashboard" ‚Üí Main SPA (Map + Sidebar + Prompt)
 */
type View = "landing" | "dashboard";

function App() {
  const [view, setView] = useState<View>("landing");

  if (view === "landing") {
    return <LandingPage onLaunch={() => setView("dashboard")} />;
  }

  return <Dashboard onBack={() => setView("landing")} />;
}

/* ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
   DASHBOARD ‚Äî the existing SPA, extracted into its own component
   ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê */
function Dashboard({ onBack }: { onBack: () => void }) {
  const [response, setResponse] = useState<QueryResponse | null>(null);
  const [loading, setLoading] = useState(false);
  const [error, setError] = useState<string | null>(null);

  const handleQuery = async (query: string) => {
    setLoading(true);
    setError(null);
    try {
      const data = await queryBackend(query);
      setResponse(data);
    } catch (err) {
      setError("Failed to connect to backend. Is it running on port 8000?");
      console.error(err);
    } finally {
      setLoading(false);
    }
  };

  return (
    <div className="h-screen flex flex-col bg-nexus-dark">
      {/* Top header ‚Äî with back button */}
      <Header onBack={onBack} />

      {/* Main content area */}
      <div className="flex flex-1 overflow-hidden">
        {/* Left sidebar ‚Äî dashboard cards */}
        <Sidebar response={response} loading={loading} />

        {/* Center ‚Äî map + guidance overlay */}
        <main className="flex-1 relative">
          <MapView />

          {/* Guidance text overlay */}
          {response && (
            <div className="absolute top-4 right-4 max-w-md bg-nexus-panel/90 backdrop-blur border border-gray-700 rounded-lg p-4 shadow-xl z-[1000]">
              <p className="text-xs text-nexus-glow font-medium uppercase tracking-wider mb-1">
                {response.intent.replace("_", " ")}
              </p>
              <p className="text-sm text-gray-300 leading-relaxed">
                {response.guidance_text}
              </p>
            </div>
          )}

          {/* Error banner */}
          {error && (
            <div className="absolute top-4 right-4 max-w-md bg-red-900/80 border border-red-600 rounded-lg p-4 z-[1000]">
              <p className="text-sm text-red-200">{error}</p>
            </div>
          )}
        </main>
      </div>

      {/* Bottom prompt bar */}
      <PromptBar onSubmit={handleQuery} loading={loading} />
    </div>
  );
}

export default App;



================================================
FILE: src/main.tsx
================================================
import { StrictMode } from "react";
import { createRoot } from "react-dom/client";
import App from "./App";
import "./styles/index.css";

createRoot(document.getElementById("root")!).render(
  <StrictMode>
    <App />
  </StrictMode>
);



================================================
FILE: src/vite-env.d.ts
================================================
/// <reference types="vite/client" />



================================================
FILE: src/components/DashboardCard.tsx
================================================
interface DashboardCardProps {
  cardType: string;
  title: string;
  value: string;
  subtitle: string;
  color: string;
}

/** Color map for card accent borders and icons */
const colorMap: Record<string, string> = {
  blue: "border-blue-500 text-blue-400",
  orange: "border-orange-500 text-orange-400",
  green: "border-green-500 text-green-400",
  emerald: "border-emerald-500 text-emerald-400",
  yellow: "border-yellow-500 text-yellow-400",
  red: "border-red-500 text-red-400",
  gray: "border-gray-600 text-gray-500",
};

/** Icon map by card type */
const iconMap: Record<string, string> = {
  stat: "üìä",
  chart: "üìà",
  alert: "‚ö†Ô∏è",
  recommendation: "üåæ",
};

/**
 * DashboardCard ‚Äî single data card in the sidebar
 *
 * Rendered dynamically based on UIInstruction from the backend.
 * The Tembo SDK would replace these with richer generative components.
 */
function DashboardCard({ cardType, title, value, subtitle, color }: DashboardCardProps) {
  const colorClasses = colorMap[color] ?? colorMap.blue;
  const icon = iconMap[cardType] ?? "üìã";

  return (
    <div
      className={`bg-gray-800/60 rounded-lg border-l-4 p-4 hover:bg-gray-800 transition-colors ${colorClasses}`}
    >
      <div className="flex items-start justify-between">
        <div className="flex-1">
          <p className="text-[11px] text-gray-400 uppercase tracking-wider font-medium">
            {title}
          </p>
          <p className={`text-2xl font-bold mt-1 ${colorClasses.split(" ")[1]}`}>
            {value}
          </p>
          {subtitle && (
            <p className="text-[11px] text-gray-500 mt-1">{subtitle}</p>
          )}
        </div>
        <span className="text-lg">{icon}</span>
      </div>
    </div>
  );
}

export default DashboardCard;



================================================
FILE: src/components/Header.tsx
================================================
interface HeaderProps {
  onBack?: () => void;
}

/**
 * Header ‚Äî Orbital Nexus branding bar
 */
function Header({ onBack }: HeaderProps) {
  return (
    <header className="flex items-center justify-between px-6 py-3 bg-nexus-panel border-b border-gray-800">
      {/* Logo + title */}
      <div className="flex items-center gap-3">
        {onBack && (
          <button
            onClick={onBack}
            className="text-gray-400 hover:text-white mr-1 transition-colors"
            title="Back to Landing"
          >
            ‚Üê
          </button>
        )}
        <div className="w-8 h-8 rounded-full bg-gradient-to-br from-emerald-500 to-cyan-400 flex items-center justify-center">
          <span className="text-sm font-bold">üõ∞Ô∏è</span>
        </div>
        <div>
          <h1 className="text-lg font-semibold text-white tracking-tight">
            Orbital Nexus
          </h1>
          <p className="text-[10px] text-gray-500 uppercase tracking-widest">
            Multi-Satellite Data Fusion Dashboard
          </p>
        </div>
      </div>

      {/* Status indicator */}
      <div className="flex items-center gap-2">
        <div className="w-2 h-2 rounded-full bg-green-400 animate-pulse" />
        <span className="text-xs text-gray-400">Offline Mode</span>
      </div>
    </header>
  );
}

export default Header;



================================================
FILE: src/components/MapView.tsx
================================================
import { MapContainer, TileLayer, Marker, Popup } from "react-leaflet";
import L from "leaflet";

// Fix default marker icon issue with bundlers
import markerIcon2x from "leaflet/dist/images/marker-icon-2x.png";
import markerIcon from "leaflet/dist/images/marker-icon.png";
import markerShadow from "leaflet/dist/images/marker-shadow.png";

// @ts-expect-error ‚Äî Leaflet icon defaults workaround
delete L.Icon.Default.prototype._getIconUrl;
L.Icon.Default.mergeOptions({
  iconRetinaUrl: markerIcon2x,
  iconUrl: markerIcon,
  shadowUrl: markerShadow,
});

/** Greater Noida coordinates ‚Äî default map center */
const GREATER_NOIDA: [number, number] = [28.4744, 77.504];

/**
 * MapView ‚Äî Leaflet map centered on Greater Noida
 *
 * Shows the target region for satellite data fusion.
 * Future: will render data overlays (NDVI heatmaps, flood risk zones, etc.)
 */
function MapView() {
  return (
    <MapContainer
      center={GREATER_NOIDA}
      zoom={11}
      className="w-full h-full"
      zoomControl={false}
    >
      <TileLayer
        attribution='&copy; <a href="https://www.openstreetmap.org/copyright">OSM</a>'
        url="https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"
      />
      <Marker position={GREATER_NOIDA}>
        <Popup>
          <strong>Greater Noida</strong>
          <br />
          28.4744¬∞N, 77.504¬∞E
          <br />
          <span className="text-xs text-gray-500">
            Default analysis region
          </span>
        </Popup>
      </Marker>
    </MapContainer>
  );
}

export default MapView;



================================================
FILE: src/components/PromptBar.tsx
================================================
import { useState, type FormEvent } from "react";

interface PromptBarProps {
  onSubmit: (query: string) => void;
  loading: boolean;
}

/**
 * PromptBar ‚Äî ChatGPT-style input at the bottom of the screen
 *
 * User types natural language queries about satellite data.
 * Includes a progress indicator when waiting for backend response.
 */
function PromptBar({ onSubmit, loading }: PromptBarProps) {
  const [query, setQuery] = useState("");

  const handleSubmit = (e: FormEvent) => {
    e.preventDefault();
    const trimmed = query.trim();
    if (!trimmed || loading) return;
    onSubmit(trimmed);
    setQuery("");
  };

  return (
    <div className="border-t border-gray-800 bg-nexus-panel">
      {/* Progress bar */}
      {loading && (
        <div className="h-0.5 bg-gray-800">
          <div className="h-full bg-nexus-accent animate-[progress_1.5s_ease-in-out_infinite] w-1/3 rounded-full" />
        </div>
      )}

      <form onSubmit={handleSubmit} className="flex items-center gap-3 px-6 py-4">
        <input
          type="text"
          value={query}
          onChange={(e) => setQuery(e.target.value)}
          placeholder="Ask about satellite data... (e.g., 'What crop should I grow in Greater Noida?')"
          className="flex-1 bg-gray-800 border border-gray-700 rounded-lg px-4 py-3 text-sm text-white placeholder-gray-500 focus:outline-none focus:border-nexus-accent focus:ring-1 focus:ring-nexus-accent transition-colors"
          disabled={loading}
        />
        <button
          type="submit"
          disabled={loading || !query.trim()}
          className="bg-nexus-accent hover:bg-blue-600 disabled:bg-gray-700 disabled:text-gray-500 text-white font-medium px-6 py-3 rounded-lg text-sm transition-colors"
        >
          {loading ? "Analyzing..." : "Send"}
        </button>
      </form>
    </div>
  );
}

export default PromptBar;



================================================
FILE: src/components/Sidebar.tsx
================================================
import { motion } from "framer-motion";
import type { QueryResponse } from "../utils/api";
import DashboardCard from "./DashboardCard";

interface SidebarProps {
  response: QueryResponse | null;
  loading: boolean;
}

/**
 * Sidebar ‚Äî scrollable panel of dashboard cards
 *
 * Shows placeholder cards when idle, data-driven cards after a query.
 */
function Sidebar({ response, loading }: SidebarProps) {
  // Placeholder cards shown before any query
  const placeholderCards = [
    { card_type: "stat", title: "Temperature", value: "--", subtitle: "Awaiting query", color: "gray" },
    { card_type: "stat", title: "Rainfall", value: "--", subtitle: "Awaiting query", color: "gray" },
    { card_type: "stat", title: "Soil Moisture", value: "--", subtitle: "Awaiting query", color: "gray" },
    { card_type: "stat", title: "NDVI", value: "--", subtitle: "Awaiting query", color: "gray" },
  ];

  const cards = response?.ui_instructions ?? placeholderCards;

  return (
    <aside className="w-72 bg-nexus-panel border-r border-gray-800 flex flex-col">
      {/* Section title */}
      <div className="px-4 py-3 border-b border-gray-800">
        <h2 className="text-xs font-semibold text-gray-400 uppercase tracking-wider">
          Dashboard
        </h2>
        {response && (
          <p className="text-[10px] text-nexus-glow mt-1">
            {response.fused_data.data_sources.join(" ¬∑ ")}
          </p>
        )}
      </div>

      {/* Scrollable cards */}
      <div className="flex-1 overflow-y-auto custom-scrollbar p-3 space-y-3">
        {loading ? (
          // Loading skeleton
          Array.from({ length: 4 }).map((_, i) => (
            <div
              key={i}
              className="h-24 bg-gray-800 rounded-lg animate-pulse"
            />
          ))
        ) : (
          cards.map((card, i) => (
            <motion.div
              key={`${card.title}-${i}`}
              initial={{ opacity: 0, x: -20 }}
              animate={{ opacity: 1, x: 0 }}
              transition={{ delay: i * 0.1 }}
            >
              <DashboardCard
                cardType={card.card_type}
                title={card.title}
                value={card.value}
                subtitle={card.subtitle}
                color={card.color}
              />
            </motion.div>
          ))
        )}
      </div>
    </aside>
  );
}

export default Sidebar;



================================================
FILE: src/pages/LandingPage.tsx
================================================
[Binary file]


================================================
FILE: src/styles/index.css
================================================
@tailwind base;
@tailwind components;
@tailwind utilities;

@import url("https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap");

/* Global resets */
* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

body {
  font-family: "Inter", system-ui, sans-serif;
  background-color: #0a0e1a;
  color: #e2e8f0;
  overflow: hidden;
  height: 100vh;
}

#root {
  height: 100vh;
}

/* Custom scrollbar for sidebar */
.custom-scrollbar::-webkit-scrollbar {
  width: 6px;
}
.custom-scrollbar::-webkit-scrollbar-track {
  background: transparent;
}
.custom-scrollbar::-webkit-scrollbar-thumb {
  background: #374151;
  border-radius: 3px;
}

/* Leaflet overrides for dark theme */
.leaflet-container {
  background: #1a1f2e;
}
.leaflet-tile-pane {
  filter: brightness(0.7) contrast(1.1) saturate(0.8);
}



================================================
FILE: src/utils/api.ts
================================================
import axios from "axios";

/** UI card instruction from the backend */
export interface UIInstruction {
  card_type: string;
  title: string;
  value: string;
  subtitle: string;
  color: string;
}

/** Fused satellite data summary */
export interface FusedDataSummary {
  region: string;
  temperature_avg_c: number;
  rainfall_mm: number;
  soil_moisture_pct: number;
  ndvi_avg: number;
  data_sources: string[];
}

/** Full query response from the backend */
export interface QueryResponse {
  intent: string;
  query_echo: string;
  fused_data: FusedDataSummary;
  guidance_text: string;
  recommendations: Array<{
    crop_name: string;
    confidence: number;
    reasoning: string;
    season: string;
  }>;
  ui_instructions: UIInstruction[];
}

/** Backend API base URL ‚Äî proxied through Vite in development */
const API_BASE = "/api";

/**
 * Send a natural language query to the backend.
 *
 * @param query - The user's question about satellite data
 * @param lat - Latitude (default: Greater Noida)
 * @param lon - Longitude (default: Greater Noida)
 * @returns Structured query response with fused data and UI instructions
 */
export async function queryBackend(
  query: string,
  lat = 28.4744,
  lon = 77.504
): Promise<QueryResponse> {
  const res = await axios.post<QueryResponse>(`${API_BASE}/query`, {
    query,
    lat,
    lon,
  });
  return res.data;
}


