@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    /* Light Mode (Default) */
    --bg-primary: #f3f4f6;
    --bg-secondary: #ffffff;
    --text-primary: #1f2937;
    --border-color: #000000;
  }

  .dark {
    /* Dark Mode */
    --bg-primary: #0a0e1a;
    --bg-secondary: #111827;
    --text-primary: #f3f4f6;
    --border-color: #ffffff;
  }

  body {
    @apply text-text bg-bg font-sans overflow-hidden transition-colors duration-300;
    font-family: "Outfit", system-ui, sans-serif;
  }

  #root {
    height: 100vh;
  }
}

@layer components {
  .neo-box {
    @apply border-2 border-border shadow-neo bg-surface text-text transition-all active:translate-x-[2px] active:translate-y-[2px] active:shadow-none;
  }

  .neo-button {
    @apply neo-box px-4 py-2 font-bold uppercase tracking-wider hover:bg-primary hover:text-white;
  }

  .neo-input {
    @apply w-full p-3 border-2 border-border bg-bg text-text focus:outline-none focus:ring-2 focus:ring-primary shadow-neo-sm;
  }

  /* Retain some glass utilities for specific components if needed, but adapt */
  .glass-panel {
    @apply neo-box;
  }
}

/* Leaflet overrides */
.leaflet-container {
  font-family: "Outfit", sans-serif;
  cursor: crosshair !important;
}
.leaflet-container .leaflet-grab {
  cursor: crosshair !important;
}
.dark .leaflet-tile-pane {
  filter: brightness(0.7) contrast(1.1) saturate(0.8);
}

/* Map click marker — pulsing dot animation */
.map-click-marker {
  background: transparent;
  border: none;
}
.click-marker-dot {
  width: 12px;
  height: 12px;
  background: #88cc00;
  border: 2px solid #fff;
  border-radius: 50%;
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  box-shadow: 0 0 6px rgba(136, 204, 0, 0.6);
}
.click-marker-pulse {
  width: 24px;
  height: 24px;
  border-radius: 50%;
  background: rgba(136, 204, 0, 0.3);
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  animation: marker-pulse 1.5s ease-out infinite;
}
@keyframes marker-pulse {
  0% {
    transform: translate(-50%, -50%) scale(0.8);
    opacity: 1;
  }
  100% {
    transform: translate(-50%, -50%) scale(2.2);
    opacity: 0;
  }
}

/* Map container — make sure search bar doesn't clash with Leaflet controls */
.map-container .leaflet-top.leaflet-left {
  top: 56px;
}
